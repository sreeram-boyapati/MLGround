b=dlmread('output.txt');
a=b;
c=b(randperm(size(b),1),:);
c=b;
m=length(b);
l1=round(0.6*length(b));
l2=round(0.2*length(b));
X=b(1:l1,1:9);
Xval=b(l1:l1+l2,1:9);
Xtest=b((l1+l2):(l1+2*l2),1:9);
Y=b(1:l1,10);
Yval=b(l1:l1+l2,10);
Ytest=b((l1+l2):(l1+2*l2),10);
Options=optimset('MaxIter',50, 'GradObj', 'on');
error_train=zeros(round(length(X)/5),1);
error_val=zeros(round(length(X)/5),1);
error_test=zeros(round(length(X)/5),1);
j=1;
i=1;
while i<length(X)
X2=X(1:i,:);
Y2=Y(1:i,:);
initial_theta=zeros(size(X,2),1);
[theta J]=fmincg(@(t)CostFunction(X2,Y2,t),initial_theta,Options);
error_train(j)=CostFunction(X2,Y2,theta);
error_val(j)=CostFunction(Xval(2:end,:),Yval(2:end,:),theta);
error_test(j)=CostFunction(Xtest(2:end,:),Ytest(2:end,:),theta);
j=j+1;
i=i+5;
endwhile;
